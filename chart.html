<!DOCTYPE html>
<html lang="ko">

<head>
	<meta charset="UTF-8">
	<title>JavaScript Chart</title>
    <!-- including ECharts file -->
    <script src="echarts-all.js"></script>
</head>

<body>

	<h1>Chart</h1>
    <div id='result'></div>
    <!-- chartarea 높이와 너비가 지정된 Dom 을 생성합니다 -->
	<div id="chartArea" style="width:700px; height:500px;"></div>
    

    <p>
        <span>시각화유형</span>
    </p>
    <!-- <select name="viewType" id="viewType" onchange="selectChart()"> -->
    <select name="viewType" id="viewType">        
        <option value="0" selected disabled>차트 선택</option>
        <option id="id-line" value="1">line chart</option>
        <option id="id-bar" value="2">bar chart</option>
        <option id="id-stackbar" value="3">stackbar chart</option>
        
    </select>
    <br>
    <br>

    <p>
        <span>title</span>
    </p>
    <input id='title' onkeyup='printTitle()'/>

    <p>
        <span>legend</span>
    </p>
	
    <label for="radioYes">Yes</label>
    <input type="radio" id="radioYes" checked/>
    <label for="radioNo">No</label>
    <input type="radio" id="radioNo" />

    <p>
        <span>X axis</span>
    </p>
    <input id='inputX'/>
    <p>
        <span>Y axis</span>
    </p>
    <input id='inputY'/>

    <p>
        <button id="btnCancle" onclick="">취소</button>
        <button id="btnConfirm" onclick="selectChart()">확인</button>
    </p>
    



    <script>
        function selectChart(){
            var viewType = document.getElementById("viewType");
            var val;

            for(i=0; i<=viewType.options.length; i++) {
                if(viewType.options[i].selected == true) {
                    val = viewType.options[i].value;
                    if(val == '1'){
                        lineChart();
                    }
                    else if(val == '2'){
                        barChart();
                    }
                    else if(val == '3'){
                        stackBarChart();
                    }
                    break;
                }
            }

        }

        function printTitle()  {
            const title = document.getElementById('title').value;
            document.getElementById("result").innerText = title;
        }
        window.onload = function(){
            // lineChart();
            stackBarChart();
            console.log('radioYes is ' + document.getElementById('radioYes').checked);
            console.log('radioNo is ' + document.getElementById('radioNo').checked);
        };
    
        var chartDom = document.getElementById('chartArea');
        function lineChart(){
            var myChart = echarts.init(chartDom);
            var option;
        
            option = {
                xAxis: {
                    type: 'category',
                    data: ['1', '2', '3', '4', '5', '6', '7', '8', '9', '10']
                },
                yAxis: {
                    type: 'value'
                },
                series: [{
                    data: [150, 230, 224, 218, 135, 147, 260, 500, 700, 100],
                    type: 'line'
                }]
            };
        
            option && myChart.setOption(option);
        }

        function barChart(){
            var myChart = echarts.init(chartDom);
            var option;

            option = {
                xAxis: {
                    type: 'category',
                    data: ['Mon', 'Tue', 'Wed', 'Thu', 'Fri', 'Sat', 'Sun']
                },
                yAxis: {
                    type: 'value'
                },
                series: [{
                    data: [120, 200, 150, 80, 70, 110, 130],
                    type: 'bar',
                    showBackground: true,
                    backgroundStyle: {
                        color: 'rgba(180, 180, 180, 0.2)'
                    }
                }]
            };

            option && myChart.setOption(option);
        }
        function stackBarChart(){
            var myChart = echarts.init(chartDom);
            var option;

            option = {
                title: {
                    text: '堆叠区域图'
                },
                tooltip: {
                    trigger: 'axis',
                    axisPointer: {
                        type: 'cross',
                        label: {
                            backgroundColor: '#6a7985'
                        }
                    }
                },
                legend: {
                    data: ['邮件营销', '联盟广告', '视频广告', '直接访问', '搜索引擎']
                },
                toolbox: {
                    feature: {
                        saveAsImage: {}
                    }
                },
                grid: {
                    left: '3%',
                    right: '4%',
                    bottom: '3%',
                    containLabel: true
                },
                xAxis: [
                    {
                        type: 'category',
                        boundaryGap: false,
                        data: ['周一', '周二', '周三', '周四', '周五', '周六', '周日']
                    }
                ],
                yAxis: [
                    {
                        type: 'value'
                    }
                ],
                series: [
                    {
                        name: '邮件营销',
                        type: 'line',
                        stack: '总量',
                        areaStyle: {},
                        emphasis: {
                            focus: 'series'
                        },
                        data: [120, 132, 101, 134, 90, 230, 210]
                    },
                    {
                        name: '联盟广告',
                        type: 'line',
                        stack: '总量',
                        areaStyle: {},
                        emphasis: {
                            focus: 'series'
                        },
                        data: [220, 182, 191, 234, 290, 330, 310]
                    },
                    {
                        name: '视频广告',
                        type: 'line',
                        stack: '总量',
                        areaStyle: {},
                        emphasis: {
                            focus: 'series'
                        },
                        data: [150, 232, 201, 154, 190, 330, 410]
                    },
                    {
                        name: '直接访问',
                        type: 'line',
                        stack: '总量',
                        areaStyle: {},
                        emphasis: {
                            focus: 'series'
                        },
                        data: [320, 332, 301, 334, 390, 330, 320]
                    },
                    {
                        name: '搜索引擎',
                        type: 'line',
                        stack: '总量',
                        label: {
                            show: true,
                            position: 'top'
                        },
                        areaStyle: {},
                        emphasis: {
                            focus: 'series'
                        },
                        data: [820, 932, 901, 934, 1290, 1330, 1320]
                    }
                ]
            };

            option && myChart.setOption(option);

        }


        var chartData = {
            result: [
                {
                    "row": 1,
                    "country_region_code": "NZ",
                    "country_region": "New Zealand",
                    "region": null,
                    "place_id": "ChIJh5Z3Fw4gLG0RM0dqdeIY1rE",
                    "date": "2021-04-30",
                    "symptom_Abdominal_obesityi": 4.5
                },
                {
                    "row": 2,
                    "country_region_code": "IE",
                    "country_region": "Ireland",
                    "region": null,
                    "place_id": "ChIJ-ydAXOS6WUgRCPTbzjQSfM8",
                    "date": "2021-04-30",
                    "symptom_Abdominal_obesityi": 3.25
                },
                {
                    "row": 3,
                    "country_region_code": "GB",
                    "country_region": "United Kingdom",
                    "region": null,
                    "place_id": "ChIJqZHHQhE7WgIReiWIMkOg",
                    "date": "2021-04-30",
                    "symptom_Abdominal_obesityi": 1.4
                },
                {
                    "row": 4,
                    "country_region_code": "AU",
                    "country_region": "Australia",
                    "region": null,
                    "place_id": "ChIJCzYy5IS16lQRQrfeQ5K5Oxw",
                    "date": "2021-04-30",
                    "symptom_Abdominal_obesityi": 1.73
                },
                {
                    "row": 5,
                    "country_region_code": "US",
                    "country_region": "United States",
                    "region": null,
                    "place_id": "ChIJh5Z3Fw4gLG0RM0dqdeIY1rE",
                    "date": "2021-04-30",
                    "symptom_Abdominal_obesityi": 4.08
                },
                {
                    "row": 6,
                    "country_region_code": "SG",
                    "country_region": "Singapore",
                    "region": null,
                    "place_id": "ChIJ-ydAXOS6WUgRCPTbzjQSfM8",
                    "date": "2021-04-30",
                    "symptom_Abdominal_obesityi": 3.6
                },
                {
                    "row": 7,
                    "country_region_code": "NZ",
                    "country_region": "New Zealand",
                    "region": null,
                    "place_id": "ChIJqZHHQhE7WgIReiWIMkOg",
                    "date": "2020-11-28",
                    "symptom_Abdominal_obesityi": 5
                },
                {
                    "row": 8,
                    "country_region_code": "IE",
                    "country_region": "Ireland",
                    "region": null,
                    "place_id": "ChIJCzYy5IS16lQRQrfeQ5K5Oxw",
                    "date": "2020-11-28",
                    "symptom_Abdominal_obesityi": 2.85
                },
                {
                    "row": 9,
                    "country_region_code": "GB",
                    "country_region": "United Kingdom",
                    "region": null,
                    "place_id": "ChIJh5Z3Fw4gLG0RM0dqdeIY1rE",
                    "date": "2020-11-28",
                    "symptom_Abdominal_obesityi": 1.95
                },
                {
                    "row": 10,
                    "country_region_code": "AU",
                    "country_region": "Australia",
                    "region": null,
                    "place_id": "ChIJ-ydAXOS6WUgRCPTbzjQSfM8",
                    "date": "2020-11-28",
                    "symptom_Abdominal_obesityi": 4.08
                },
                {
                    "row": 11,
                    "country_region_code": "US",
                    "country_region": "United States",
                    "region": null,
                    "place_id": "ChIJqZHHQhE7WgIReiWIMkOg",
                    "date": "2019-05-16",
                    "symptom_Abdominal_obesityi": 3.6
                },
                {
                    "row": 12,
                    "country_region_code": "SG",
                    "country_region": "Singapore",
                    "region": null,
                    "place_id": "ChIJCzYy5IS16lQRQrfeQ5K5Oxw",
                    "date": "2019-05-16",
                    "symptom_Abdominal_obesityi": 5
                },
                {
                    "row": 13,
                    "country_region_code": "IE",
                    "country_region": "Ireland",
                    "region": null,
                    "place_id": "ChIJqZHHQhE7WgIReiWIMkOg",
                    "date": "2019-05-16",
                    "symptom_Abdominal_obesityi": 1.4
                }
            ]
        }
        console.log(chartData);

        function jsonOutput(){
            var dataSet = chartData.result;
            for(i=0; i<chartData.result.length; i++){
                console.log(dataSet[i[1]]);
            }
        }
        jsonOutput();

        function jsonDataSet(){
            var dataSet = chartData.result;
            var xAxis = document.getElementById('xaxis');
            var yAxis = document.getElementById('yaxis');;
            // for(i=0; i<chartData.result.length; i++){

            // }
        }
        
    </script>


</body>

</html>

